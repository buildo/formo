(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{79:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return a})),t.d(n,"metadata",(function(){return o})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return b}));var i=t(3),r=(t(0),t(89));const a={id:"submitting",title:"Submitting a form"},o={unversionedId:"submitting",id:"submitting",isDocsHomePage:!1,title:"Submitting a form",description:"When defining a form, you are expected to return a TaskEither from the",source:"@site/docs/submitting.md",slug:"/submitting",permalink:"/useFormo/docs/submitting",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/submitting.md",version:"current",sidebar:"someSidebar",previous:{title:"Validating fields",permalink:"/useFormo/docs/validating-fields"}},s=[],u={toc:s};function b({components:e,...n}){return Object(r.b)("wrapper",Object(i.a)({},u,n,{components:e,mdxType:"MDXLayout"}),Object(r.b)("p",null,"When defining a form, you are expected to return a ",Object(r.b)("inlineCode",{parentName:"p"},"TaskEither")," from the\n",Object(r.b)("inlineCode",{parentName:"p"},"onSubmit")," function."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-ts"},'import { useFormo } from "useFormo";\n\nfunction login(\n  username: string;\n  password: string;\n): TaskEither<string, void> {\n  if (username === "admin" && password === "password") {\n    return taskEither.right(undefined)\n  } else {\n    return taskEither.left("wrong username/password combination!")\n  }\n};\n\nconst { handleSubmit, isSubmitting, formErrors } = useFormo(\n  {\n    initialValues: {\n      username: "",\n      password: "",\n    },\n  },\n  {\n    onSubmit: (values) => login(values.username, values.password)\n  }\n);\n')),Object(r.b)("p",null,"In order to perform the form submission you can run ",Object(r.b)("inlineCode",{parentName:"p"},"handleSubmit")," (usually by\npassing it to a ",Object(r.b)("inlineCode",{parentName:"p"},"<button>")," of some sort)."),Object(r.b)("p",null,"When the ",Object(r.b)("inlineCode",{parentName:"p"},"handleSubmit")," is run, a few things happen:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"isSubmitting")," becomes ",Object(r.b)("inlineCode",{parentName:"p"},"true")," until the ",Object(r.b)("inlineCode",{parentName:"p"},"TaskEither")," completes (either\nsuccessfully or not)")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},'all fields are marked as "touched" and all field validations are run. If any\nof these validations fails, ',Object(r.b)("inlineCode",{parentName:"p"},"onSubmit")," is not run.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"if the ",Object(r.b)("inlineCode",{parentName:"p"},"TaskEither"),' resolves to a "left", ',Object(r.b)("inlineCode",{parentName:"p"},"formErrors")," will contain the error\nreturned (wrapped in an ",Object(r.b)("inlineCode",{parentName:"p"},"Option"),"). This allows you - for instance - to display\nform-level errors originated during the form submittion.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"if the ",Object(r.b)("inlineCode",{parentName:"p"},"TaskEither"),' resolves to a "right", the form submission has succeeded\nand ',Object(r.b)("inlineCode",{parentName:"p"},"formErrors")," will be ",Object(r.b)("inlineCode",{parentName:"p"},"None"),"."))))}b.isMDXComponent=!0}}]);