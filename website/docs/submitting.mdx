---
id: submitting
title: Submitting a form
---

import CodeBlock from "@theme/CodeBlock";

When defining a form, the `onSubmit` function is expected to return a `Promise<Result>`,
where `Result` can either be `Success` or `Failure`.

import SubmittingForm from "!!raw-loader!../examples/src/submitting-a-form/MyForm";

<CodeBlock className="language-tsx">{SubmittingForm}</CodeBlock>

In order to perform the form submission you can run `handleSubmit` (usually by
passing it to a `<button>` of some sort).

When the `handleSubmit` is run, a few things happen:

- `isSubmitting` becomes `true` until the `Promise` completes (either
  successfully or not)

- all fields `isTouched` are marked as `true` and all field validations are run. If any
  of these validations fails, `onSubmit` is not run.

- if the `Promise` resolves to a `Failure`, `formErrors` will contain the error
  returned. This allows you - for instance - to display
  form-level errors originated during the form submittion.

- if the `Promise` resolves to a `Success`, the form submission has succeeded
  and `formErrors` will be `undefined`.
